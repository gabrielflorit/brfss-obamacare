---
title: "Exploring the BRFSS data"
output: 
  html_document: 
    fig_height: 4
    highlight: pygments
    theme: spacelab
---

## Setup

### Load packages

```{r load-packages, message = FALSE}
library(ggplot2)
library(dplyr)
library(gmodels)
setwd("~/Desktop/week5")
```

### Load data

```{r load-data}
load('brfss2013.RData')
```

* * *

## Part 1: Data

The [Behavioral Risk Factor Surveillance System](http://www.cdc.gov/brfss) is a yearly telephone survey that collects data on health-related risk behaviors.

The population of interest is non-institutionalized US residents 18 years or older. To perform the survey, researchers use Random Digit Dialing to call thousands of adults -- 506,000 in 2014 -- in all 50 states, DC, and three US territories.

The study might suffer from **coverage bias** because not all US residents own a landline or cellphone. This might mean the study underrepresents hard-to-reach groups.

As an observational study, the BRFSS is conducted by random sampling, which means the survey results can be generalized to the population (if we assume there is no bias and the sample is representative of the population.) Since there is no random assignment, the survey cannot be used to establish causality relationships.

* * *

## Part 2: Research questions

**Research question 1:** Is general health associated to a lack of health care coverage? **explain why this is of interest to the author/audience**

**Research question 2:**

**Research question 3:**

* * *

## Part 3: Exploratory data analysis

**Research question 1:**

Is general health associated to a lack of health care coverage? We can answer this by making a contingency table of general health (*genhlth*) and health care coverage (*X_hcvu651*):

```{r}
health_coverage.table <- prop.table(table(brfss2013$genhlth, brfss2013$X_hcvu651), 2)
health_coverage.table
```

The proportions vary within general health, which provides evidence that these two variables are associated. We can also look at a couple graphs - first, a histogram:
```{r}
# Convert to data frame for plotting
health_coverage.data <- as.data.frame(health_coverage.table) %>%
	rename(Health = Var1, Coverage = Var2, Proportion = Freq)

ggplot(health_coverage.data, aes(Health, Proportion, fill=Coverage)) +
	geom_bar(stat='identity', position='dodge') +
	labs(
		title='Distribution of general health by health care coverage',
		subtitle='Respondents are aged 18-64 who have any form of health care coverage'
	)
```

Next, a mosaic-like bar plot:
```{r}
ggplot(health_coverage.data, aes(Coverage, Proportion, fill=Health)) +
	geom_bar(stat='identity') +
	labs(
		title='Distribution of general health by health care coverage',
		subtitle='Respondents are aged 18-64 who have any form of health care coverage'
	)
```

In both these graphs we see that the general health proportions vary by coverage, which provides visual evidence that these two variables are associated.

***

next













