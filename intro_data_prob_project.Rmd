---
title: "Exploring the BRFSS data"
output: 
  html_document: 
    fig_height: 4
    highlight: pygments
    theme: spacelab
---

## Setup

### Load packages

```{r load-packages, message = FALSE}
library(ggplot2)
library(dplyr)
setwd("~/Desktop/week5")
```

### Load data

```{r load-data}
load('brfss2013.RData')
```

* * *

## Part 1: Data

The [Behavioral Risk Factor Surveillance System](http://www.cdc.gov/brfss) is a yearly telephone survey that collects data on health-related risk behaviors.

The population of interest is non-institutionalized US residents 18 years or older. To perform the survey, researchers use Random Digit Dialing to call thousands of adults -- 506,000 in 2014 -- in all 50 states, DC, and three US territories.

The study might suffer from **coverage bias** because not all US residents own a landline or cellphone. This might mean the study underrepresents hard-to-reach groups.

As an observational study, the BRFSS is conducted by random sampling, which means the survey results can be generalized to the population (if we assume there is no bias and the sample is representative of the population.) Since there is no random assignment, the survey cannot be used to establish causality relationships.

* * *

## Part 2: Research questions

**Research question 1:**

**Research question 2:**

**Research question 3:**


* * *

## Part 3: Exploratory data analysis

**Research question 1:**

What is the distribution of general health, and is it associated to a lack of health care coverage?

```{r}

health_coverage <- brfss2013 %>%
	select(Health=genhlth, Coverage=X_hcvu651) %>%
	na.omit

health_coverage.distro <- health_coverage %>%
	group_by(Coverage, Health) %>%
	summarise(n = n()) %>%
	mutate(freq = n / sum(n))
	
ggplot(health_coverage.distro, aes(Health, freq, fill=Coverage)) +
	geom_bar(stat='identity', position='dodge') +
	ylab('Percent') +
	labs(
		title='Distribution of general health by health care coverage',
		subtitle='Respondents are aged 18-64 who have any form of health care coverage'
	) +
	scale_y_continuous(labels=scales::percent)
	
```

	group_by(genhlth, X_hcvu651) %>%
	summarise (n = n()) %>%
  mutate(freq = n / sum(n)) %>%
	ggplot(aes(genhlth, freq, fill=X_hcvu651)) +
	geom_bar(stat='identity', position='dodge')

	
	
```
	
	
	ggplot(aes(genhlth, fill=X_hcvu651)) +
	geom_bar() +
	labs(title='Distribution of general health')



```



**Research question 2:**

```{r}

```



**Research question 3:**

```{r}

```

